{"version":3,"sources":["common/ComponentStatus.js","content/HttpResult.js","content/ContentFromMarkdown.js","content/HelpPage.js","content/UnderConstruction.js","graphics/Protein.js","graphics/Frame.js","visquant/ProteinSelect.js","visquant/Mapper.js","layout/TopNav.js","layout/Page.js","App.js","reportWebVitals.js","index.js"],"names":["ComponentStatus","PENDING","REJECTED","RESOLVED","PageNotFound","status","title","subTitle","extra","to","type","ServerError","onClick","location","reload","ContentFromMarkdown","props","state","httpResponseCode","content","this","fetchContent","prevProps","href","setState","fetch","then","response","text","data","catch","active","source","React","Component","HelpPage","subpage","match","params","resourceFile","resourcePath","UnderConstruction","message","description","icon","BuildOutlined","showIcon","DrawOptions","Protein","ref","createRef","useEffect","svg","d3","current","append","attr","scale","graphics","length","drawBackbone","selectAll","regions","filter","d","display","enter","region","start","end","style","colour","drawRegions","motifs","motif","drawMotifs","Frame","useState","setGraphics","setStatus","proteinId","id","json","console","assert","error","margin","overflow","justifyContent","getFrameContent","ProteinSelect","mode","width","onChange","allowClear","autoFocus","tokenSeparators","placeholder","defaultValue","scaleOptions","withRouter","proteinsFromQueryString","qs","parse","search","ignoreQueryPrefix","proteins","setProteins","domain","range","selectedProteinsChanged","selectedProteins","history","push","stringify","map","Header","Layout","MenuKey","TopNav","selectedKeys","handleClick","bind","e","log","key","theme","Item","PushpinOutlined","QuestionCircleOutlined","CopyrightOutlined","GithubOutlined","target","rel","Content","Footer","Page","className","minHeight","path","exact","component","Mapper","textAlign","App","basename","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4378ce61.chunk.js","sourcesContent":["const ComponentStatus = {\n  PENDING: \"pending\",\n  REJECTED: \"rejected\",\n  RESOLVED: \"resolved\",\n};\n\nexport default ComponentStatus;\n","import { Button, Result } from \"antd\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst PageNotFound = () => (\n  <Result\n    status=\"404\"\n    title=\"404\"\n    subTitle=\"Sorry, the page you visited doesn't exist.\"\n    extra={\n      <Link to=\"/\">\n        <Button type=\"default\">Back Home</Button>\n      </Link>\n    }\n  />\n);\n\nconst ServerError = () => (\n  <Result\n    status=\"500\"\n    title=\"Blip in the network\"\n    subTitle=\"Something went wrong. Please try again later.\"\n    extra={\n      <Button type=\"default\" key=\"home\" onClick={() => location.reload()}>\n        Refresh\n      </Button>\n    }\n  />\n);\n\nexport { PageNotFound, ServerError };\n","import ComponentStatus from \"../common/ComponentStatus\";\nimport { PageNotFound, ServerError } from \"./HttpResult\";\nimport { Skeleton } from \"antd\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport ReactMarkdown from \"react-markdown\";\n\nclass ContentFromMarkdown extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      httpResponseCode: null,\n      status: ComponentStatus.PENDING,\n      content: null,\n    };\n  }\n\n  componentDidMount() {\n    this.fetchContent();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.href !== this.props.href) {\n      this.setState(\n        { href: this.props.href, status: ComponentStatus.PENDING },\n        this.fetchContent\n      );\n    }\n  }\n\n  fetchContent() {\n    fetch(this.props.href)\n      .then((response) => {\n        this.setState({ httpResponseCode: response.status });\n        return response.text();\n      })\n      .then((data) => {\n        this.setState({\n          status: ComponentStatus.RESOLVED,\n          content: data,\n        });\n      })\n      .catch(() => {\n        this.setState({\n          status: ComponentStatus.REJECTED,\n          content: null,\n        });\n      });\n  }\n\n  render() {\n    switch (this.state.status) {\n      case ComponentStatus.PENDING:\n        return <Skeleton active />;\n      case ComponentStatus.RESOLVED:\n        if (this.state.httpResponseCode === 404) {\n          <PageNotFound />;\n        }\n        return <ReactMarkdown source={this.state.content} />;\n      case ComponentStatus.REJECTED:\n        return <ServerError />;\n    }\n  }\n}\n\nContentFromMarkdown.propTypes = {\n  href: PropTypes.string,\n};\n\nexport default ContentFromMarkdown;\n","import ContentFromMarkdown from \"../content/ContentFromMarkdown\";\nimport { PropTypes } from \"prop-types\";\nimport React from \"react\";\n\nconst HelpPage = ({ match }) => {\n  const { subpage } = match.params;\n  const resourceFile = `how-to${subpage ? \"-\" + subpage : \"\"}.md`;\n  const resourcePath = `https://raw.githubusercontent.com/ChildrensMedicalResearchInstitute/ptm-visquant/master/docs/${resourceFile}`;\n  return <ContentFromMarkdown href={resourcePath} />;\n};\n\nHelpPage.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      subpage: PropTypes.string,\n    }),\n  }).isRequired,\n};\n\nexport default HelpPage;\n","import { BuildOutlined } from \"@ant-design/icons\";\nimport { Alert } from \"antd\";\nimport React from \"react\";\n\nconst UnderConstruction = () => (\n  <Alert\n    message=\"Under construction\"\n    description={\n      <p>\n        This new PTM Visquant app is under construction and currently lacks some\n        of the existing features in the current prototype. Please check out{\" \"}\n        <a href=\"https://visquant.cmri.org.au/\">visquant.cmri.org.au</a> if this\n        app is currently missing the feature you need.\n      </p>\n    }\n    type=\"warning\"\n    icon={<BuildOutlined />}\n    showIcon\n  />\n);\nexport default UnderConstruction;\n","import * as d3 from \"d3\";\nimport { PropTypes } from \"prop-types\";\nimport React from \"react\";\n\nconst DrawOptions = {\n  backboneHeight: 10,\n  backboneFill: \"grey\",\n  backboneY: 30,\n\n  regionHeight: 20,\n  regionRectRadius: 5,\n  regionOpacity: 0.9,\n\n  motifHeight: 20,\n  motifOpacity: 0.5,\n};\n\nconst Protein = (props) => {\n  const ref = React.createRef();\n\n  React.useEffect(render, []);\n\n  function drawBackbone(svg) {\n    svg\n      .append(\"rect\")\n      .attr(\"x\", 0)\n      .attr(\"y\", DrawOptions.backboneY - DrawOptions.backboneHeight / 2)\n      .attr(\"height\", DrawOptions.backboneHeight)\n      .attr(\"width\", props.scale(props.graphics.length))\n      .attr(\"fill\", DrawOptions.backboneFill);\n  }\n\n  function drawRegions(svg) {\n    const regions = svg\n      .selectAll(\"region\")\n      .data(props.graphics.regions.filter((d) => d.display !== false))\n      .enter()\n      .append(\"g\");\n\n    regions\n      .append(\"rect\")\n      .attr(\"rx\", DrawOptions.regionRectRadius)\n      .attr(\"ry\", DrawOptions.regionRectRadius)\n      .attr(\"x\", (region) => props.scale(region.start))\n      .attr(\"y\", DrawOptions.backboneY - DrawOptions.regionHeight / 2)\n      .attr(\"width\", (region) => props.scale(region.end - region.start))\n      .attr(\"height\", DrawOptions.regionHeight)\n      .style(\"fill\", (region) => region.colour)\n      .style(\"fill-opacity\", DrawOptions.regionOpacity)\n      .style(\"stroke\", \"black\");\n  }\n\n  function drawMotifs(svg) {\n    svg\n      .selectAll(\"motif\")\n      .data(props.graphics.motifs.filter((d) => d.display !== false))\n      .enter()\n      .append(\"rect\")\n      .attr(\"x\", (motif) => props.scale(motif.start))\n      .attr(\"y\", () => DrawOptions.backboneY - DrawOptions.motifHeight / 2)\n      .attr(\"width\", (motif) => props.scale(motif.end - motif.start))\n      .attr(\"height\", DrawOptions.motifHeight)\n      .style(\"fill\", (motif) => motif.colour)\n      .style(\"fill-opacity\", DrawOptions.motifOpacity);\n  }\n\n  function render() {\n    const svg = d3.select(ref.current);\n    drawBackbone(svg);\n    drawRegions(svg);\n    drawMotifs(svg);\n  }\n\n  return <svg ref={ref} />;\n};\n\nProtein.propTypes = {\n  graphics: PropTypes.shape({\n    length: PropTypes.number,\n    regions: PropTypes.arrayOf(PropTypes.object),\n    markups: PropTypes.arrayOf(PropTypes.object),\n    metadata: PropTypes.shape({\n      identifier: PropTypes.string,\n    }),\n    motifs: PropTypes.arrayOf(\n      PropTypes.shape({\n        colour: PropTypes.string,\n        type: PropTypes.string,\n        start: PropTypes.number,\n        end: PropTypes.number,\n      })\n    ),\n  }).isRequired,\n  scale: PropTypes.any.isRequired,\n};\n\nexport default Protein;\n","import ComponentStatus from \"../common/ComponentStatus\";\nimport Protein from \"./Protein\";\nimport { Alert, Spin } from \"antd\";\nimport { PropTypes } from \"prop-types\";\nimport React from \"react\";\n\nconst { PENDING, RESOLVED, REJECTED } = ComponentStatus;\n\nconst Frame = (props) => {\n  const [graphics, setGraphics] = React.useState(null);\n  const [status, setStatus] = React.useState(PENDING);\n\n  React.useEffect(() => fetchGraphics(props.id), [props.id]);\n\n  function fetchGraphics(proteinId) {\n    fetch(`https://pfam.xfam.org/protein/${proteinId}/graphic`)\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        console.assert(data.length === 1, {\n          data: data,\n          error: \"Unexpected response from Pfam\",\n        });\n        setGraphics(data[0]);\n        setStatus(RESOLVED);\n      })\n      .catch(() => {\n        setGraphics(null);\n        setStatus(REJECTED);\n      });\n  }\n\n  function getFrameContent() {\n    switch (status) {\n      case PENDING:\n        return <Spin style={{ display: \"flex\", justifyContent: \"center\" }} />;\n      case RESOLVED:\n        return <Protein graphics={graphics} scale={props.scale} />;\n      case REJECTED:\n        return (\n          <Alert\n            message={`Could not find protein \"${props.id}\"`}\n            type=\"error\"\n            showIcon\n          />\n        );\n    }\n  }\n\n  return (\n    <div style={{ margin: \"20px 0\", overflow: \"visible\" }}>\n      {getFrameContent()}\n    </div>\n  );\n};\n\nFrame.propTypes = {\n  id: PropTypes.string.isRequired,\n  scale: PropTypes.any,\n};\n\nexport default Frame;\n","import { Select } from \"antd\";\nimport { PropTypes } from \"prop-types\";\nimport React from \"react\";\n\nconst ProteinSelect = (props) => {\n  return (\n    <Select\n      mode=\"tags\"\n      style={{ width: \"100%\" }}\n      onChange={props.onChange}\n      allowClear={true}\n      autoFocus={true}\n      tokenSeparators={[\",\"]}\n      placeholder=\"Protein entry name or accession\"\n      defaultValue={props.defaultValue}\n    />\n  );\n};\n\nProteinSelect.propTypes = {\n  onChange: PropTypes.func,\n  defaultValue: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport default ProteinSelect;\n","import UnderConstruction from \"../content/UnderConstruction\";\nimport Frame from \"../graphics/Frame\";\nimport ProteinSelect from \"./ProteinSelect\";\nimport { Card, Empty } from \"antd\";\nimport * as d3 from \"d3\";\nimport { PropTypes } from \"prop-types\";\nimport qs from \"qs\";\nimport React, { useEffect } from \"react\";\nimport { withRouter } from \"react-router\";\n\nconst scaleOptions = {\n  domain: [0, 4_000],\n  range: [0, 2_000],\n};\n\nconst Mapper = (props) => {\n  const proteinsFromQueryString =\n    qs.parse(props.location.search, { ignoreQueryPrefix: true }).id ?? [];\n\n  const [proteins, setProteins] = React.useState(proteinsFromQueryString);\n  const scale = d3\n    .scaleLinear()\n    .domain(scaleOptions.domain)\n    .range(scaleOptions.range);\n\n  function selectedProteinsChanged(selectedProteins) {\n    props.history.push({\n      search: \"?\" + qs.stringify({ id: selectedProteins }),\n    });\n    setProteins(selectedProteins);\n  }\n\n  function renderResults() {\n    if (proteins.length === 0) {\n      return (\n        <Empty\n          style={{ margin: \"40px\" }}\n          description={\n            <p>\n              To get started, enter Pfam protein entry name or accession.\n              <br />\n              For example, TAU_RAT or P19332.\n            </p>\n          }\n        />\n      );\n    }\n    return proteins.map((id) => <Frame key={id} id={id} scale={scale} />);\n  }\n\n  // Render proteins from query string when component mounts\n  useEffect(() => selectedProteinsChanged(proteins), []);\n\n  return (\n    <>\n      <UnderConstruction />\n      <Card style={{ margin: \"20px 0\" }}>\n        <ProteinSelect\n          onChange={selectedProteinsChanged}\n          defaultValue={proteins}\n        />\n        {renderResults()}\n      </Card>\n    </>\n  );\n};\n\nMapper.propTypes = {\n  history: PropTypes.any.isRequired,\n  location: PropTypes.any.isRequired,\n};\n\nexport default withRouter(Mapper);\n","import {\n  CopyrightOutlined,\n  GithubOutlined,\n  PushpinOutlined,\n  QuestionCircleOutlined,\n} from \"@ant-design/icons\";\nimport { Layout, Menu } from \"antd\";\nimport React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nconst { Header } = Layout;\n\nconst MenuKey = {\n  MENU_KEY_DRAW: \"menu-key-draw\",\n  MENU_KEY_HELP: \"menu-key-help\",\n  MENU_KEY_LICENSE: \"menu-key-license\",\n  MENU_KEY_GITHUB: \"menu-key-github\",\n};\n\nclass TopNav extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedKeys: [],\n    };\n\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(e) {\n    console.log(e);\n    if (e.key === MenuKey.MENU_KEY_GITHUB) {\n      return;\n    }\n    this.setState({ selectedKeys: [e.key] });\n  }\n\n  render() {\n    return (\n      <Header>\n        <Menu\n          theme=\"dark\"\n          onClick={this.handleClick}\n          selectedKeys={this.state.selectedKeys}\n          mode=\"horizontal\"\n        >\n          <Menu.Item key={MenuKey.MENU_KEY_DRAW} icon={<PushpinOutlined />}>\n            <NavLink to=\"/\">Draw</NavLink>\n          </Menu.Item>\n          <Menu.Item\n            key={MenuKey.MENU_KEY_HELP}\n            icon={<QuestionCircleOutlined />}\n          >\n            <NavLink to=\"/how-to\">Help</NavLink>\n          </Menu.Item>\n          <Menu.Item\n            key={MenuKey.MENU_KEY_LICENSE}\n            icon={<CopyrightOutlined />}\n          >\n            <NavLink to=\"/license\">License</NavLink>\n          </Menu.Item>\n          <Menu.Item key={MenuKey.MENU_KEY_GITHUB} icon={<GithubOutlined />}>\n            <a\n              href=\"https://github.com/ChildrensMedicalResearchInstitute/ptm-visquant\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              GitHub\n            </a>\n          </Menu.Item>\n        </Menu>\n      </Header>\n    );\n  }\n}\n\nexport default TopNav;\n","import ContentFromMarkdown from \"../content/ContentFromMarkdown\";\nimport HelpPage from \"../content/HelpPage\";\nimport { PageNotFound } from \"../content/HttpResult\";\nimport Mapper from \"../visquant/Mapper\";\nimport TopNav from \"./TopNav\";\nimport { Layout } from \"antd\";\nimport React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n\nconst { Content, Footer } = Layout;\n\nconst Page = () => (\n  <Layout className=\"layout\" style={{ minHeight: \"100vh\" }}>\n    <TopNav></TopNav>\n    <Content style={{ margin: \"50px\" }}>\n      <Switch>\n        <Route path=\"/\" exact component={Mapper} />\n        <Route path=\"/how-to/:subpage?\" component={HelpPage} />\n        <Route\n          path=\"/license\"\n          exact\n          component={() => (\n            <ContentFromMarkdown href=\"https://raw.githubusercontent.com/ChildrensMedicalResearchInstitute/ptm-visquant/master/LICENSE.md\" />\n          )}\n        />\n        <Route component={PageNotFound} />\n      </Switch>\n    </Content>\n    <Footer style={{ textAlign: \"center\" }}>\n      <p>\n        Made with ♡ by{\" \"}\n        <a\n          href=\"https://github.com/digitalpoetry\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Jonathan Du\n        </a>\n        . Copyright © 2019 Children’s Medical Research Institute.\n      </p>\n    </Footer>\n  </Layout>\n);\n\nexport default Page;\n","import \"./App.css\";\nimport Page from \"./layout/Page\";\nimport React from \"react\";\nimport { HashRouter } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <HashRouter basename=\"/\">\n      <Page></Page>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import App from \"./App\";\nimport \"./index.css\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}